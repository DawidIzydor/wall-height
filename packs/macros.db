{"name":"Set Elevation","permission":{"default":0,"M6L6STuBiXTluEz7":3},"type":"script","flags":{"core":{"sourceId":"Macro.CpL3YgGgMfvubvuq"}},"scope":"global","command":"let applyChanges = false;\nnew Dialog({\n  title: `Token Elevation Changer`,\n  content: `\n    <form>\n      <div class=\"form-group\">\n        <label>Elevation Value:</label>\n        <input id=\"token-elevation\" name=\"token-elevation\" type=\"number\" step=\"1\" value=\"0\"/>\n      </div>\n    </form>\n    `,\n  buttons: {\n    yes: {\n      icon: \"<i class='fas fa-check'></i>\",\n      label: `Apply Changes`,\n      callback: () => applyChanges = true\n    },\n    no: {\n      icon: \"<i class='fas fa-times'></i>\",\n      label: `Cancel Changes`\n    },\n  },\n  default: \"yes\",\n  close: html => {\n    if (applyChanges) {\n      for ( let token of canvas.tokens.controlled ) {\n       let elevation = html.find('[name=\"token-elevation\"]')[0].value || \"0\";\n       token.update({\n           \"elevation\": parseInt(elevation)\n       });\n       //token.data.elevation=parseInt(elevation);\n\n      }\n    }\n  }\n}).render(true);","author":"M6L6STuBiXTluEz7","img":"icons/svg/mountain.svg","actorIds":[],"_id":"kq4dbp4zntplu8w4"}
